<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="build2Devtest" name="Creates Jar">
	
	<property name="devtestDir" value="C:/CA/DevTest" />
	<property name="hotDeployDir" value="${devtestDir}/hotDeploy/" />
	<property name="sharedDir" value="${devtestDir}/lib/shared/" />
	
	<property name="Adelbs-ISO8583" value="../../ISO8583/Adelbs-ISO8583" />
	
    <target name="build2Devtest">
    	<delete>
    		<fileset dir="${Adelbs-ISO8583}/build/" includes="ABS-*" />
    	    <fileset dir="build/" includes="CST-*" />
    	</delete>
    	
    	<ant antfile="${Adelbs-ISO8583}/build.xml" dir="${Adelbs-ISO8583}" target="buildJar" />
    	<ant antfile="build.xml" target="buildJar" />
    	
		<delete failonerror="false">
			<fileset dir="${hotDeployDir}" includes="CST-ISO8583*" />
			<fileset dir="${sharedDir}" includes="CST-ISO8583*" />
			<fileset dir="${hotDeployDir}" includes="ABS-ISO8583*" />
			<fileset dir="${sharedDir}" includes="ABS-ISO8583*" />
		</delete>
    	
    	<copy todir="${hotDeployDir}" overwrite="false">
    		<fileset dir="${Adelbs-ISO8583}/build/" includes="ABS-*" />
    		<fileset dir="build/" includes="CST-*" />
    	</copy>

    	<copy todir="${sharedDir}" overwrite="false">
    		<fileset dir="${Adelbs-ISO8583}/build/" includes="ABS-*" />
    		<fileset dir="build/" includes="CST-*" />
    	</copy>
    </target>
	
</project>
